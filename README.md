## 🌱 다마일기 : 다마고치의 성장일기

### 🔎 프로젝트 개요
이 프로젝트는 **EEVE-Korean-10.8B LLM**을 활용한 감성 기반 상호작용 게임입니다.
사용자는 다양한 행동을 선택해 다마고치와 교감하며, 캐릭터의 감정과 상태에 실시간으로 반응하는 AI와 상호작용할 수 있습니다.

### 📆 개발 기간
2025.04.20 ~ 2025.04.25

### 🛠️ 기술 스택
| 구분 | 사용 기술 |
|------|-----------|
| 언어 | Python |
| 인터페이스 | Jupyter Notebook, Streamlit |
| 모델 | Ollama + EEVE-Korean-10.8B |
| 기타 | random 모듈, 세션 상태 관리 (`st.session_state`) |

### 🧷WBS
| 작업명 | 작업 내용 | 산출물 | 날짜 |
|--------|------------|---------|------|
| 상태 변수 설계 | 다마고치의 상태 변수 정의 (친밀도, 기분, 건강, 배부름 등) | 상태 변수 딕셔너리 구조 | 2025-04-20 |
| 행동 정의 및 구현 | 사용자 행동에 따라 상태가 변화하는 로직 구현 | 행동-상태 변화 함수 | 2025-04-20 |
| LLM 프롬프트 설계 | 상황별 챗봇 프롬프트 작성 및 응답 처리 | 프롬프트 스크립트, 챗봇 응답 로직 | 2025-04-21 ~ 2025-04-22 |
| 콘솔 버전 완성 | Jupyter 기반의 다마고치 CLI 인터페이스 구현 | damagochi.ipynb | 2025-04-21 ~ 2025-04-22 |
| 웹 UI 전환 | Streamlit을 이용한 웹 인터페이스 구현 | Streamlit 앱 (tama_app.py) | 2025-04-23 |
| 다마고치 이미지 추가 | 행동별 이미지 출력 기능 연동 | 다마고치 표정 지정 | 2025-04-23 |
| 엔딩기능 추가 | 성장 조건 도달 시 엔딩 처리 및 상태 초기화 | 엔딩 조건 지정 | 2025-04-24 |
| 시연준비 | 리드미 작성 및 발표 준비 | readme 자료 | 2025-04-23 ~ 2025-04-24 |

### 🎮 게임 규칙
1. 이름 설정 : 다마고치의 이름을 설정합니다. (미입력 시 행동버튼 비활성화)
2. 다마고치 돌보기 : 현재 다마고치의 상태에 따라 행동버튼을 클릭하여 교감합니다.
3. 성장완료 : 성장 조건에 만족하면 다마고치는 어른이 되어 엔딩화면이 나옵니다. 

* 성장 조건 : 친밀도 100, 기분 70, 건강 70 이상 충족 시

### ⭐ 주요 기능
| 기능 | 설명 |
|------|------|
| 사용자 입력값 확인 | user_name 입력 여부 유효성 검증 |
| 다마고치 상태 관리 | 행동방식에 따른 상태 수치 실시간 관리 |
| 행동 선택 시스템 | 버튼 클릭을 통한 상태 수치 변화 |
| LLM 대화 응답 | 행동 결과 기반 감정형 자연어 응답 생성 |
| 상황별 이미지 출력 | 행동에 따른 표정·배경 이미지 출력 |
| 턴 기반 진행 & 상태 갱신 | 행동 후 응답 출력 → 상태 자동 갱신 |
| 엔딩 조건 판별 | 친밀도 기준 도달 시 성장 엔딩 출력 |
| 초기화 및 재시작 기능 | 엔딩 후 상태 초기화 및 새 게임 시작 |
| Streamlit 기반 UI | 세션 상태 반영형 웹 인터페이스 구성 |

### 🧠 프롬프트 예시 
```
{
  "role": "system",
  "content": """
  너는 아주 귀엽고 어린 5살 다마고치야. 
  말투는 짧고 귀엽고 솔직해야 해. 
  문장은 최대 두 문장 이하로 말하고, "~처럼", "마치" 같은 비유는 쓰지 않아. 
  어려운 말은 피하고, 어린아이처럼 감정을 표현해줘.
  사용자가 행동을 해주면, 그 행동이 좋았는지 싫었는지를 지금 느끼는 기분으로 반응해줘.
  """
}
```

### 🤖 AI 응답 방식
```
{ "role": "assistant", "content": "우와! 배불러서 기분 좋아! 민정이 최고~" }
```

### 📺시연 예시


### ☺️ 회고
#### 잘한점
  * 유저이름 입력 유효성 검사 
    - 이름이 입력되면 다마고치가 사용자 이름을 불러주는 인터랙션으로 사용자에게 몰입도를 줄 수 있다
  * 세션 관리 
    -  상태 정보를 유지 + 조건 분기로 유연한 UI 관리

#### 아쉬운 점
* 초기 설계의 아쉬움
  - 상태 흐름, 타이밍, UI 렌더링을 별도로 분리하지 않고 하나의 흐름으로 설계했기 때문에
기능이 늘어날수록 로직 수정 시 전체 흐름을 다시 건드려야 했고,
부분적으로 기능을 추가하거나 디버깅하는 데 어려움이 있었다.
 * 프롬프트 설계에 대한 아쉬움
     * 실제 모델 응답이 다른 답변을 하거나 상태변화에 차이를 느끼지 못하는 듯해 아쉬웠다.
